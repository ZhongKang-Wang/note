# 20250628



Q1：如何查看编译 C 语言的环境是 64 位还是 32 位？

- 在 C 语言中，可以利用指针类型占用的字节数来判断。
- 因为在 32 位系统中，指针类型占 32 位，即 4 字节；而在 64 位系统中，指针占 64 位，即 8 字节。



```C
#include <stdio.h>
#include <stdlib.h>

/* run this program using the console pauser or add your own getch, system("pause") or input loop */

int main() {
	int bits = sizeof(char*);
	printf("%d\n", bits); //8个字节，说明是64位系统
	int a[10] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};
	printf("%p\n", (void*)a); // 输出数组第一个元素的地址
	//%p专门打印指针的值，以16进制输出
	printf("%d\n", *a);       // 解引用 a，得到第一个元素的值，输出 1
	return 0;
}
```

`%p` 格式说明符

- **作用**：`%p` 是 `printf` 系列函数的格式说明符，专门用于打印**指针的值**（即内存地址）。
- **输出格式**：通常以十六进制形式输出，例如 `0x7ffd7c0b5a10`。
- **要求**：`%p` 要求对应的参数类型必须是 **`void*`**（即通用指针类型）。如果传递其他类型的指针（如 `int*`、`char*`），可能会导致**未定义行为**（取决于编译器和平台）。

`(void*)` 强制类型转换

- **作用**：将其他类型的指针（如 `int*`、`char*`）转换为 `void*` 类型。
- **原因**：`void*` 是 C 语言中通用的指针类型，可表示任意类型的内存地址。`%p` 要求参数必须是 `void*`，因此需要通过 `(void*)` 进行显式转换。



